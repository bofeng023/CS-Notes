### dashboard-content 接口文档

###### dashboard-content接口为LinkContent项目的的管理平台接口,实现了对频道的管理、广告收益的管理
1.接口鉴权
请求dashboard-content的每个接口都必须带上用于鉴权的请求头，请求头格式：

| 请求头key  | 请求头value  | 
| :------------: | :------------: |
|Authorization   | Token:E04AB73061C64E05A1FB1A1B5FF737AF 10259  |

> E04AB73061C64E05A1FB1A1B5FF737AF
> 10259

其中请求头value的token分别为用户的token和uid

2.接口文档
全局返回结果示例

{
    "header": {},
    "body": {}
}
header为返回的状态信息，body为返回的数据信息
header参数说明

| code  | msg  |  success | alert  |time|
| :------------: | :------------: | :------------: | :------------: |
|状态码   | 返回信息  |  是否成功 |  是否通知 |时间|

[========]

<br>
1） 根据app_key获取用户频道接口

描述：
•	根据app_key获取用户已选频道

请求URL：
•	http://localhost:8080/linkcontent/channel/app/list

请求方式：
•	get

请求参数说明：

| 请求参数  | 是否必填  |  类型 | 说明  |
| :------------: | :------------: | :------------: | :------------: |
|app_key   | 是  |  string |  appKey |

请求示例
http://localhost:8080/linkcontent/channel/app/list?app_key=7c8eef6c560c08fe386cb1801f682b15

返回示例

{
    "header": {
        "code": 200,
        "msg": "操作成功",
        "success": true,
        "alert": true,
        "time": 1568880455669
    },
    "body": [
        {
            "app_key": "7c8eef6c560c08fe386cb1801f682b15",
            "channel_id": 111,
            "channel_alias": "社会",
            "channel_name": "life"
        },
        {
            "app_key": "7c8eef6c560c08fe386cb1801f682b15",
            "channel_id": 112,
            "channel_alias": "同城",
            "channel_name": "city"
        }
    ]
}

返回参数说明

|  参数名 |类型   |说明   |
| :------------: | :------------: | :------------: |
| app_key  |string   |appKey   |
| channel_id  | int  |  平台频道id |
|  channel_alias | string  |  app频道别名 |
| channel_name  | string  | 频道名称  |

[========]

<br>
2）获取平台所有频道接口
描述：
•	获取平台全部频道

请求URL：
•	http://localhost:8080/linkcontent/channel/platform

请求方式：
•	get

请求参数：无

请求示例
http://localhost:8080/linkcontent/channel/platform

返回示例

{
    "header": {
        "code": 200,
        "msg": "操作成功",
        "success": true,
        "alert": true,
        "time": 1568895247712
    },
    "body": [
        {
            "id": 1,
            "name": "推荐"
        },
        {
            "id": 10,
            "name": "本地"
        },
        {
            "id": 11,
            "name": "时尚"
        }
    ]
}

返回参数说明

|  参数名 |类型   |说明   |
| :------------: | :------------: | :------------: |
| id  |int   |平台频道id   |
| name  | string  |  平台频道名称 |

[========]

<br>
3）发布app频道接口

描述：
•	用户发布app频道，会发布后重置该用户的已选频道

请求URL：
•	http://localhost:8080/linkcontent/channel/app/publish

请求方式：
•	post

请求参数说明：

| 请求参数  | 是否必填  |  类型 | 说明  |
| :------------: | :------------: | :------------: | :------------: |
|app_key   | 是  |  string |  appKey |
| channel_id  |是| int  |  平台频道id |
|  channel_alias |否| string  |  app频道别名 |

请求示例
http://localhost:8080/linkcontent/channel/app/publish
body
[{"app_key":"8c89aad43b2f5bf88c7ee76b30ba1451","channel_id":12,"channel_alias":"汽车"},,{"app_key":"8c89aad43b2f5bf88c7ee76b30ba1451","channel_id":52,"channel_alias":""}]

返回示例

    {
        "header": {
            "code": 200,
            "msg": "操作成功",
            "success": true,
            "alert": true,
            "time": 1568899789688
        },
        "body": null
    }

[========]

<br>
4）获取累计收益接口

描述：
•	根据app_key获取app的累计收益和累计曝光

请求URL：
•	http://localhost:8080/linkcontent/statistic/income/total

请求方式：
•	get

请求参数说明：

| 请求参数  | 是否必填  |  类型 | 说明  |
| :------------: | :------------: | :------------: | :------------: |
|app_key   | 是  |  string |  appKey |

请求示例
http://localhost:8080/linkcontent/statistic/income/total?app_key=7c8eef6c560c08fe386cb1801f682b15

返回示例

{
    "header": {
        "code": 200,
        "msg": "操作成功",
        "success": true,
        "alert": true,
        "time": 1568900661341
    },
    "body": {
        "income": 1075822,
        "exposure": 1007744,
        "date": null
    }
}

返回参数说明

|  参数名 |类型   |说明   |
| :------------: | :------------: | :------------: |
| income  |long   |累计收益   |
| exposure  | long  |  累计曝光量 |
| date  | string  |  日期（格式yyyy-MM-dd） |

[========]

<br>
5）获取特定某几天的收益列表

描述：
•	根据app_key分页获取特定某天或某几天的收益列表

请求URL：
•	http://localhost:8080/linkcontent/statistic/income/total

请求方式：
•	post

请求参数说明：

| 请求参数  | 是否必填  |  类型 | 说明  |
| :------------: | :------------: | :------------: | :------------: |
|app_key   | 是  |  string |  appKey |
| start_date  |是| string  |  开始日期 |
|  end_date |是| string  |  结束日期 |
| page  |否| int  | 请求页数（默认1） |
|  size |否| int  |  每页显示条数（默认10） |

请求示例
http://localhost:8080/linkcontent/statistic/income/specific
body
{"app_key":"7c8eef6c560c08fe386cb1801f682b15","end_date":"2019-09-16","start_date":"2019-09-09","page":1,"size":10}

返回示例

{
    "header": {
        "code": 200,
        "msg": "操作成功",
        "success": true,
        "alert": true,
        "time": 1568901334620
    },
    "body": [
        {
            "income": 9200,
            "exposure": 992,
            "date": "2019-09-09"
        },
        {
            "income": 9300,
            "exposure": 993,
            "date": "2019-09-10"
        }
    ]
}

返回参数说明

|  参数名 |类型   |说明   |
| :------------: | :------------: | :------------: |
| income  |long   |当日收益   |
| exposure  | long  |  当日曝光量 |
| date  | string  |  日期（格式yyyy-MM-dd） |

[========]

<br>
6）获取分页查询总条数

描述：
•	获取分页查询收益的总条数

请求URL：
•	http://localhost:8080/linkcontent/statistic/income/count

请求方式：
•	post

请求参数说明：

| 请求参数  | 是否必填  |  类型 | 说明  |
| :------------: | :------------: | :------------: | :------------: |
|app_key   | 是  |  string |  appKey |
| start_date  |是| string  |  开始日期 |
|  end_date |是| string  |  结束日期 |

请求示例
http://localhost:8080/linkcontent/statistic/income/count
body
{"app_key":"7c8eef6c560c08fe386cb1801f682b15","end_date":"2019-09-16","start_date":"2019-09-09"}

返回示例

{
    "header": {
        "code": 200,
        "msg": "操作成功",
        "success": true,
        "alert": true,
        "time": 1568901868020
    },
    "body": 2
}

返回参数说明

|  参数名 |类型   |说明   |
| :------------: | :------------: | :------------: |
| income  |long   |当日收益   |


[========]

<br>
7）下载收益收据

描述：
•	下载某app从平台上线至今的每日收益数据。excel文档

请求URL：
•	http://localhost:8080/linkcontent/statistic/income/export

请求方式：
•	get

请求参数说明：

| 请求参数  | 是否必填  |  类型 | 说明  |
| :------------: | :------------: | :------------: | :------------: |
|app_key   | 是  |  string |  appKey |

请求示例
http://localhost:8080/linkcontent/statistic/income/export?app_key=7c8eef6c560c08fe386cb1801f682b15

返回文档：app收益文档.xls

[========]

<br>

8）查询内容统计

描述：
•	获取某个app某一天的统计情况, 包含app 下的总人数,日环比

请求URL：
•	http://localhost:8080/linkcontent/statistic/get

请求方式：
•	get

请求参数说明：

| 请求参数  | 是否必填  |  类型 | 说明  |
| :------------: | :------------: | :------------: | :------------: |
|app_key   | 是  |  string |  appKey |
|date   | 是  |  string |  日期 |

请求示例
http://localhost:8080/linkcontent/statistic/list?appKey=7e289a2484f4368dbafbd1e5c7d06903&date=2019-09-10

返回示例：

{
"header": {
"code": 200,
"msg": "操作成功",
"success": true,
"alert": true,
"time": 1568616541660
},
"body": {
"app_key": "7e289a2484f4368dbafbd1e5c7d06903", // appKey app 唯一的标识
"date": "2019-09-10", // 日期 格式为yyyy-MM-dd
"new_user": 10,
"active_user": 10,
"content_exposure": 10,
"content_click": 10,
"avg_read_time": 10,
"avg_read_article": 10,
"total_users": 55,
"active_user_d2_dratio": "-33.33%",
"article_exposure_d2_dratio": "-33.33%",
"article_click_d2_dratio": "-33.33%",
"avg_read_time_d2_dratio": "-.–"
}
}

返回参数说明

|  参数名 |类型   |说明   |
| :------------: | :------------: | :------------: |
| app_key  |string   |appKey   |
| date  |string   |日期   |
| new_user  |int   |新增人数   |
| active_user  |int   |活跃人数   |
| content_exposure  |int   |内容曝光量   |
| content_click  |int   |内容点击量   |
| avg_read_time  |long   |平均阅读时长   |
| avg_read_article  |long   |平均阅读文章数   |
| total_users  |int   |该app下的总人数   |
| active_user_d2_dratio  |string   |活跃用户日环比   |
| article_exposure_d2_dratio  |string   |文章曝光量日环比   |
| article_click_d2_dratio  |string   |文章点击量日环比   |
| avg_read_time_d2_dratio  |string   |平均停留时长   |

[========]

<br>

9）分页查询内容统计列表

描述：
•	获取某个app下某段时间内的统计情况

请求URL：
•	http://localhost:8080/linkcontent/statistic/list

请求方式：
•	post

请求参数说明：

| 请求参数  | 是否必填  |  类型 | 说明  |
| :------------: | :------------: | :------------: | :------------: |
|app_key   | 是  |  string |  appKey |
|start_date   | 是  |  string |  开始日期 |
|end_date   | 是  |  string |  结束日期 |
|page   | 否  |  int |  请求页数 |
|size   | 否  |  int |  每页显示条数 |

请求示例
http://localhost:8080/linkcontent/statistic/list
body
{"app_key":"7c8eef6c560c08fe386cb1801f682b15","end_date":"2019-09-16","start_date":"2019-09-09","page":1,"size":10}

返回示例：

{
    "header": {
        "code": 200,
        "msg": "操作成功",
        "success": true,
        "alert": true,
        "time": 1568946285290
    },
    "body": [
        {
            "app_key": "7e289a2484f4368dbafbd1e5c7d06903",
            "date": "2019-09-09",
            "new_user": 25,
            "active_user": 15,
            "content_exposure": 15,
            "content_click": 15,
            "avg_read_time": null,
            "avg_read_article": null,
        },
        {
            "app_key": "7e289a2484f4368dbafbd1e5c7d06903",
            "date": "2019-09-10",
            "new_user": 10,
            "active_user": 10,
            "content_exposure": 10,
            "content_click": 10,
            "avg_read_time": 10,
            "avg_read_article": 10,
        }
    ]
}

返回参数说明

|  参数名 |类型   |说明   |
| :------------: | :------------: | :------------: |
| app_key  |string   |appKey   |
| date  |string   |日期   |
| new_user  |int   |新增人数   |
| active_user  |int   |活跃人数   |
| content_exposure  |int   |内容曝光量   |
| content_click  |int   |内容点击量   |
| avg_read_time  |long   |平均阅读时长   |
| avg_read_article  |long   |平均阅读文章数   |


[========]

<br>

10）查看内容统计条数

描述：
•	查看某个app下某段时间内的统计条数

请求URL：
•	http://localhost:8080/linkcontent/statistic/count

请求方式：
•	post

请求参数说明：

| 请求参数  | 是否必填  |  类型 | 说明  |
| :------------: | :------------: | :------------: | :------------: |
|app_key   | 是  |  string |  appKey |
|start_date   | 是  |  string |  开始日期 |
|end_date   | 是  |  string |  结束日期 |

请求示例
http://localhost:8080/linkcontent/statistic/list
body
{"app_key":"7c8eef6c560c08fe386cb1801f682b15","end_date":"2019-09-16","start_date":"2019-09-09"}

返回示例：

{
"header": {
"code": 200,
"msg": "操作成功",
"success": true,
"alert": true,
"time": 1568614761548
},
"body": 2 // 总记录数
}

返回参数说明

|  参数名 |类型   |说明   |
| :------------: | :------------: | :------------: |
| body  |int   |总记录数   |

<br>
<br>

### content 接口文档





