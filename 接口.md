工单结算接口

---

**1\. 查询工单信息**
###### 接口功能
> 初始化界面查询工单信息

###### URL
> [http://192.168.0.108:8080/LaborBlance/findOrderInfo]

###### HTTP请求方式
> GET

###### 请求参数


|  参数名 |类型  |说明   |
| :------------: | :------------: | :------------: |
| merchantCode  |string  | 门店编码 必填   |
| orderCode  | string |  工单编号 必填 |


###### 返回字段

|  参数名 |类型 |说明   |
| :------------: | :------------: | :------------: |
|laborOrder   |object    |工单对象   |
|goodsList  |array | 商品集合                      |
|vipNumber |int |会员卡数量                         |
|cardBalance |int |卡余额                         |
|vipCards |array |会员卡集合                         |
|onceGoodsList |array |次卡商品集合                         |
|coupons |array |优惠券集合                         |
|vipNumber |int |会员卡数量                         |
|maxDisCount |string |最大折扣金额                         |
|shouldPay |string |应付金额                         |
|orderPrice |string |订单金额                         |
|deduction |string |抵扣金额                         |
|redeemCode |string |兑换码                         |
|benefit |string |人工优惠金额                         |
|giftObj|int|赠送物品数量                         |
|giftService|int |赠送服务数量                         |
|onceCardDiscount|string |次卡抵扣金额                         |

###### 接口示例
> 地址：[192.168.0.108:8080/LaborBlance/findOrderInfo?merchantCode=31000001&orderCode=310000012020012874](http://192.168.0.108:8080/LaborBlance/findOrderInfo?merchantCode=31000001&orderCode=310000012020012874)

<br>

**1-1\. 查询次卡商品集合**
###### 接口功能
> 选择会员卡查询次卡商品集合

###### URL
> [http://192.168.0.108:8080/LaborBlance/findOnceCards]

###### HTTP请求方式
> GET

###### 请求参数


|  参数名 |类型  |说明   |
| :------------: | :------------: | :------------: |
| merchantCode  |string  | 门店编码 必填   |
| orderCode  | string |  工单编号 必填 |
| vipCardId  | string |  会员卡id列表,逗号分隔 必填 |

##### 返回实例
```javascript
    [
        {
            "goodsCode": "31000001S0101000027",
            "name": "手工清洗外观(5座)",
            "goodsType": 2,
            "price": 20.0,
            "count": 10,
            "surplusCount": 4,
            "twoCategoryName": "洗车美容",
            "goodsCome": 1,
            "goodsVipId": "107",
			"memberCardName": "商家储值卡-1000元",
            "goodsName": "手工清洗外观(5座)"
        }
    ]
```
<br>

**1-2\. 查卡余额和最高可用抵扣金额**
###### 接口功能
> 用户操作会员卡和次卡商品时调用

###### URL
> [http://192.168.0.108:8080/LaborBlance/getBalance]

###### HTTP请求方式
> POST

###### 请求体


|  参数名 |类型  |说明   |
| :------------: | :------------: | :------------: |
| merchantCode  |string  | 门店编码 必填   |
| workorderCode  | string |  工单编号 必填 |
| vipCards  | array |  会员卡集合 必填 |
| onceCards  | array |  次卡商品集合 必填 |

###### 返回字段

|  参数名 |类型 |说明   |
| :------------: | :------------: | :------------: |
|cardBalance   |string    |卡余额   |
|maxDiscount  |string | 最高可用抵扣金额                      |

<br>

**2\. 工单结算**
###### 接口功能
> 点击工单结算返回数据

###### URL
> [http://192.168.0.108:8080/LaborBlance/balance/order]

###### HTTP请求方式
> POST

###### 请求体

|  参数名 |类型 |说明   |
| :------------: | :------------: | :------------: |
|laborOrder   |object    |工单对象   |
|goodsList  |array | 商品集合                      |
|vipNumber |int |会员卡数量                         |
|cardBalance |int |卡余额                         |
|vipCards |array |会员卡集合                         |
|onceGoodsList |array |次卡商品集合                         |
|coupons |array |优惠券集合                         |
|vipNumber |int |会员卡数量                         |
|deduction |string |抵扣金额                         |
|shouldPay |string |应付金额                         |
|orderPrice |string |订单金额                         |
|redeemCode |array |兑换码集合 code:兑换码 price:价格 name:名称 类型:1次卡2优惠券 状态:true有效false失效    |
|benefit |string |人工优惠金额                         |
|type |int |兑换码类型 1:次卡 2:优惠券                        |
|redeemVerification |string |兑换码核销金额              |
|notifyCardOwner |bool |扣卡后是否通知持卡人              |

###### 返回字段

|  参数名 |类型 |说明   |
| :------------: | :------------: | :------------: |
|laborOrder   |object    |工单对象   |
|goodsList  |array | 商品集合                      |
|vipNumber |int |会员卡数量                         |
|cardBalance |int |卡余额                         |
|vipCards |array |会员卡集合                         |
|onceGoodsList |array |次卡商品集合                         |
|coupons |array |优惠券集合                         |
|vipNumber |int |会员卡数量                         |
|orderPrice |string |订单金额                         |
|deduction |string |抵扣金额                         |
|redeemCode |array |兑换码集合 code:兑换码 price:价格 name:名称 类型:1次卡2优惠券 状态:true有效false失效    |
|benefit |string |人工优惠金额                         |
|orderNo |string |订单编号                         |
|settleaccountsId|int |业务结算单id                         |

###### 请求示例
> 
``` javascript
{
        "laborOrder": {
            "id": 130,
            "merchantCode": "31000001",
            "workorderType": 2,
            "workorderCode": "310000012020012874",
            "workorderTime": "2019-12-12 13:31:46",
            "status": 2,
            "plateNumber": "京aaaaa",
            "customerCode": "111",
            "buyoncreditMoney": null,
            "mileage": null,
            "isBuyoncredit": 2,
            "estimateSubmit": null,
            "remarks": "",
            "createTime": "2019-12-12",
            "updateTime": "2020-01-09 19:43:15",
            "createId": "007",
            "updateId": "007",
            "vehicleIdNum": null,
            "carCode": null,
            "customerName": "陈孝林编辑",
            "customerPhone": "15528034555",
            "modelName": null,
            "brandName": null,
            "seriesName": null,
            "nextKeepFitKm": null,
            "nextKeepFitTime": null,
            "repairName": null,
            "repairPhone": null,
            "applyDate": null,
            "engineNum": "007",
            "annualInspectDate": null,
            "compulsoryInsureDeadline": null,
            "carColor": "绿色",
            "totalMoney": 1040,
            "beforeRemarks": null,
            "isMyCard": 1
        },
        "goodsList": [
            {
                "id": 221,
                "goodsName": "车顶玻璃贴膜",
                "brandName": null,
                "price": 1000,
                "alreadyReceiveNum": null,
                "stockNum": null,
                "remarks": null,
                "goodsCode": "31000001S0102000006",
                "serviceFrequency": null,
                "serviceTime": null,
                "isGift": 0,
                "subtotalMoney": 1000,
                "type": 2,
                "workorderCode": "310000012020012874",
                "merchantCode": "31000001",
                "goodsCount": 1,
                "goodsType": 2,
                "goodsCome": 3,
                "goodsVipId": null,
                "laborGoodsEmployeeList": [
                    {
                        "id": 252,
                        "workorderId": "221",
                        "workorderCode": "310000012020012874",
                        "customerType": 1,
                        "workerId": "null",
                        "employeeName": "倪庆君",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 253,
                        "workorderId": "221",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "程良",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 254,
                        "workorderId": "221",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "吕琳",
                        "merchantCode": "31000001"
                    }
                ],
                "memberCardGoodsPrice": null,
                "memberCardGoodsDiscount": null,
                "surplusCount": null
            },
            {
                "id": 222,
                "goodsName": "手工清洗外观(5座)",
                "brandName": null,
                "price": 20,
                "alreadyReceiveNum": null,
                "stockNum": null,
                "remarks": null,
                "goodsCode": "31000001S0101000028",
                "serviceFrequency": null,
                "serviceTime": null,
                "isGift": 0,
                "subtotalMoney": 40,
                "type": 2,
                "workorderCode": "310000012020012874",
                "merchantCode": "31000001",
                "goodsCount": 2,
                "goodsType": 2,
                "goodsCome": 2,
                "goodsVipId": "107",
                "laborGoodsEmployeeList": [
                    {
                        "id": 255,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 1,
                        "workerId": "null",
                        "employeeName": "倪庆君",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 256,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "程良",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 257,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "吕琳",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 258,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "程良",
                        "merchantCode": "31000001"
                    }
                ],
                "memberCardGoodsPrice": null,
                "memberCardGoodsDiscount": null,
                "surplusCount": null
            },
            {
                "id": 234,
                "goodsName": "商家储值卡-300元",
                "brandName": null,
                "price": 50,
                "alreadyReceiveNum": null,
                "stockNum": null,
                "remarks": "修改备注",
                "goodsCode": "31000001S0101000028",
                "serviceFrequency": null,
                "serviceTime": null,
                "isGift": 0,
                "subtotalMoney": null,
                "type": 2,
                "workorderCode": "310000012020012874",
                "merchantCode": "31000001",
                "goodsCount": 1,
                "goodsType": null,
                "goodsCome": 1,
                "goodsVipId": "109",
                "laborGoodsEmployeeList": [],
                "memberCardGoodsPrice": null,
                "memberCardGoodsDiscount": null,
                "surplusCount": null
            }
        ],
        "vipNumber": 3,
        "cardBalance": 18396,
        "vipCards": [
            {
                "memberCardName": "商家次卡-10次洗车",
                "memberCardType": 3,
                "customerMemberCardId": 107,
                "specialItems": [],
                "availableItems": null,
                "items": [
                    {
                        "id": null,
                        "goodsName": null,
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": null,
                        "surplusCount": 4
                    }
                ],
                "freeItems": [
                    {
                        "id": null,
                        "goodsName": null,
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": null,
                        "surplusCount": 1
                    }
                ],
                "cardBalance": 0,
                "coupons": [
                    {
                        "couponId": 12345,
                        "couponName": "没有优惠券信息，无接口支持",
                        "couponType": null,
                        "count": 2,
                        "surplusCount": 2
                    }
                ]
            },
            {
                "memberCardName": "商家储值卡-1000元",
                "memberCardType": 1,
                "customerMemberCardId": 109,
                "specialItems": [
                    {
                        "id": null,
                        "goodsName": "普通洗车(SUV及7座)",
                        "brandName": null,
                        "price": 30,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000028",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": 9.9,
                        "memberCardGoodsDiscount": 10,
                        "surplusCount": null
                    }
                ],
                "availableItems": null,
                "items": null,
                "freeItems": [
                    {
                        "id": null,
                        "goodsName": null,
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": null,
                        "surplusCount": 3
                    }
                ],
                "cardBalance": 3000,
                "coupons": []
            },
            {
                "memberCardName": "商家储值卡-501元",
                "memberCardType": 2,
                "customerMemberCardId": 110,
                "specialItems": [],
                "availableItems": [
                    {
                        "id": null,
                        "goodsName": "普通打蜡(5座)",
                        "brandName": null,
                        "price": 80,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000029",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": 0,
                        "surplusCount": null
                    },
                    {
                        "id": null,
                        "goodsName": "手工清洗外观(5座)",
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": 0,
                        "surplusCount": null
                    }
                ],
                "items": null,
                "freeItems": [],
                "cardBalance": 1599,
                "coupons": [
                    {
                        "couponId": 12345,
                        "couponName": "没有优惠券信息，无接口支持",
                        "couponType": null,
                        "count": 1,
                        "surplusCount": 1
                    }
                ]
            }
        ],
        "onceGoodsList": [],
        "coupons": [
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            }
        ],
        "maxDisCount": 60.3,
        "shouldPay": 1029.7,
        "orderPrice": 1090,
        "deduction": 60.3,
        "redeemCode": ["TYDVE","SDAWW"],
        "redeemVerification": 0,
        "benefit": 0,
        "giftObj": 0,
        "giftService": 0,
        "notifyCardOwner": null,
        "payType": null,
        "wechatPayMoney": null,
        "aliPayMoney": null,
        "cashPayMoney": null,
        "swipecardPayMoney": null,
        "wechatTransferPayMoney": null,
        "aliTransferPayMoney": null,
        "vipOffsetMoney": null
    }
  ```

<br>

**3\. 财务结算**
###### 接口功能
> 点击财务结算按钮

###### URL
> [http://192.168.0.106:8080/LaborBlance/balance/finance]

###### HTTP请求方式
> POST

###### 请求体

|  参数名 |类型 |说明   |
| :------------: | :------------: | :------------: |
|settleaccountsId|int |业务结算单id                 |
|laborOrder   |object    |工单对象   |
|goodsList  |array | 商品集合                      |
|vipNumber |int |会员卡数量                         |
|cardBalance |int |卡余额                         |
|vipCards |array |会员卡集合                      |
|onceGoodsList |array |次卡商品集合                |
|coupons |array |优惠券集合                         |
|vipNumber |int |会员卡数量                         |
|deduction |string |会员卡抵扣金额                         |
|shouldPay |string |应付金额                         |
|orderPrice |string |订单金额                         |
|redeemCode |array |兑换码集合 code:兑换码 price:价格 name:名称 类型:1次卡2优惠券 状态:true有效false失效    |
|redeemVerification |string |兑换码核销金额              |
|benefit |string |人工优惠金额                         |
|qrcodeTo |int |微信二维码发送至 1:电脑 2:一体机         |
|payType |string |支付方式 1:现金 2：刷卡 3：微信 4：支付宝 5:支付宝转账 6:微信转账 两种以上支付方式(英文逗号分隔) |
|wechatAliPay |string |支付宝微信支付金额                         |
|cashPayMoney |string |现金支付金额                         |
|swipecardPayMoney |string |刷卡支付金额                         |
|wechatTransferPayMoney |int |微信转账金额        |
|aliTransferPayMoney |string |支付宝转账金额                 |
|qrcodeTo |string |将二维码发送至 1:电脑 2:一体机             |
|buyoncredit |bool |是否挂账             |

###### 请求示例
> 
``` javascript
{
        "laborOrder": {
            "id": 130,
            "merchantCode": "31000001",
            "workorderType": 2,
            "workorderCode": "310000012020012874",
            "workorderTime": "2019-12-12 13:31:46",
            "status": 2,
            "plateNumber": "京aaaaa",
            "customerCode": "111",
            "buyoncreditMoney": null,
            "mileage": 3600,
            "isBuyoncredit": 2,
            "estimateSubmit": null,
            "remarks": "",
            "createTime": "2019-12-12",
            "updateTime": "2020-01-09 19:43:15",
            "createId": "007",
            "updateId": "007",
            "vehicleIdNum": null,
            "carCode": null,
            "customerName": "陈孝林编辑",
            "customerPhone": "15528034555",
            "modelName": null,
            "brandName": null,
            "seriesName": null,
            "nextKeepFitKm": null,
            "nextKeepFitTime": null,
            "repairName": null,
            "repairPhone": null,
            "applyDate": null,
            "engineNum": "007",
            "annualInspectDate": null,
            "compulsoryInsureDeadline": null,
            "carColor": "绿色",
            "totalMoney": 1040,
            "beforeRemarks": null,
            "isMyCard": 1
        },
        "goodsList": [
            {
                "id": 221,
                "goodsName": "车顶玻璃贴膜",
                "brandName": null,
                "price": 1000,
                "alreadyReceiveNum": null,
                "stockNum": null,
                "remarks": null,
                "goodsCode": "31000001S0102000006",
                "serviceFrequency": null,
                "serviceTime": null,
                "isGift": 0,
                "subtotalMoney": 1000,
                "type": 2,
                "workorderCode": "310000012020012874",
                "merchantCode": "31000001",
                "goodsCount": 1,
                "goodsType": 2,
                "goodsCome": 3,
                "goodsVipId": null,
                "laborGoodsEmployeeList": [
                    {
                        "id": 252,
                        "workorderId": "221",
                        "workorderCode": "310000012020012874",
                        "customerType": 1,
                        "workerId": "null",
                        "employeeName": "倪庆君",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 253,
                        "workorderId": "221",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "程良",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 254,
                        "workorderId": "221",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "吕琳",
                        "merchantCode": "31000001"
                    }
                ],
                "memberCardGoodsPrice": null,
                "memberCardGoodsDiscount": null,
                "surplusCount": null
            },
            {
                "id": 222,
                "goodsName": "手工清洗外观(5座)",
                "brandName": null,
                "price": 20,
                "alreadyReceiveNum": null,
                "stockNum": null,
                "remarks": null,
                "goodsCode": "31000001S0101000028",
                "serviceFrequency": null,
                "serviceTime": null,
                "isGift": 0,
                "subtotalMoney": 40,
                "type": 2,
                "workorderCode": "310000012020012874",
                "merchantCode": "31000001",
                "goodsCount": 2,
                "goodsType": 2,
                "goodsCome": 2,
                "goodsVipId": "107",
                "laborGoodsEmployeeList": [
                    {
                        "id": 255,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 1,
                        "workerId": "null",
                        "employeeName": "倪庆君",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 256,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "程良",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 257,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "吕琳",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 258,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "程良",
                        "merchantCode": "31000001"
                    }
                ],
                "memberCardGoodsPrice": null,
                "memberCardGoodsDiscount": null,
                "surplusCount": null
            },
            {
                "id": 234,
                "goodsName": "商家储值卡-300元",
                "brandName": null,
                "price": 50,
                "alreadyReceiveNum": null,
                "stockNum": null,
                "remarks": "修改备注",
                "goodsCode": "31000001S0101000028",
                "serviceFrequency": null,
                "serviceTime": null,
                "isGift": 0,
                "subtotalMoney": null,
                "type": 2,
                "workorderCode": "310000012020012874",
                "merchantCode": "31000001",
                "goodsCount": 1,
                "goodsType": null,
                "goodsCome": 1,
                "goodsVipId": "109",
                "laborGoodsEmployeeList": [],
                "memberCardGoodsPrice": null,
                "memberCardGoodsDiscount": null,
                "surplusCount": null
            }
        ],
        "vipNumber": 3,
        "cardBalance": 18396,
        "vipCards": [
            {
                "memberCardName": "商家次卡-10次洗车",
                "memberCardType": 3,
                "customerMemberCardId": 107,
                "specialItems": [],
                "availableItems": null,
                "items": [
                    {
                        "id": null,
                        "goodsName": null,
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": null,
                        "surplusCount": 4
                    }
                ],
                "freeItems": [
                    {
                        "id": null,
                        "goodsName": null,
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": null,
                        "surplusCount": 1
                    }
                ],
                "cardBalance": 0,
                "coupons": [
                    {
                        "couponId": 12345,
                        "couponName": "没有优惠券信息，无接口支持",
                        "couponType": null,
                        "count": 2,
                        "surplusCount": 2
                    }
                ]
            },
            {
                "memberCardName": "商家储值卡-1000元",
                "memberCardType": 1,
                "customerMemberCardId": 109,
                "specialItems": [
                    {
                        "id": null,
                        "goodsName": "普通洗车(SUV及7座)",
                        "brandName": null,
                        "price": 30,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000028",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": 9.9,
                        "memberCardGoodsDiscount": 10,
                        "surplusCount": null
                    }
                ],
                "availableItems": null,
                "items": null,
                "freeItems": [
                    {
                        "id": null,
                        "goodsName": null,
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": null,
                        "surplusCount": 3
                    }
                ],
                "cardBalance": 3000,
                "coupons": []
            },
            {
                "memberCardName": "商家储值卡-501元",
                "memberCardType": 2,
                "customerMemberCardId": 110,
                "specialItems": [],
                "availableItems": [
                    {
                        "id": null,
                        "goodsName": "普通打蜡(5座)",
                        "brandName": null,
                        "price": 80,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000029",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": 0,
                        "surplusCount": null
                    },
                    {
                        "id": null,
                        "goodsName": "手工清洗外观(5座)",
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": 0,
                        "surplusCount": null
                    }
                ],
                "items": null,
                "freeItems": [],
                "cardBalance": 1599,
                "coupons": [
                    {
                        "couponId": 12345,
                        "couponName": "没有优惠券信息，无接口支持",
                        "couponType": null,
                        "count": 1,
                        "surplusCount": 1
                    }
                ]
            }
        ],
        "onceGoodsList": [],
        "coupons": [
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            }
        ],
        "maxDisCount": 60.3,
        "shouldPay": 1029.7,
        "orderPrice": 1090,
        "deduction": 60.3,
        "redeemCode": ["TYDVE","SDAWW"],
        "redeemVerification": 0,
        "benefit": 0,
        "giftObj": 0,
        "giftService": 0,
        "notifyCardOwner": null,
        "payType": "1,2",
        "wechatPayMoney": 20,
        "aliPayMoney": 20,
        "cashPayMoney": 0,
        "swipecardPayMoney": 0,
        "wechatTransferPayMoney": 0,
        "aliTransferPayMoney": 0,
        "vipOffsetMoney": null
    }
```

**4\. 保存工单结算**
###### 接口功能
> 开单详情点击保存按钮

###### URL
> [http://192.168.0.108:8080/LaborBlance/save]

###### HTTP请求方式
> POST

###### 请求体

|  参数名 |类型 |说明   |
| :------------: | :------------: | :------------: |
|workorderCode |string |工单编号                   |
|merchantCode |string |商家code                         |
|goodsList  |array | 商品集合                      |
|mileage |int |本次里程数                         |
|additionalRemarks |string |备注                         |

###### 请求示例

<br>

**5\. 支付回调接口**
###### 接口功能
> 支付后由数垚回调

###### URL
> [http://192.168.0.108:8080/payCallback/workorder]

###### HTTP请求方式
> POST

###### 请求体

|  参数名 |类型 |说明   |
| :------------: | :------------: | :------------: |
|orderNo|string |订单编号                   |
|payTime |string |支付时间                         |
|payType|string |支付类型                   |
|nonceStr|string |唯一码                         |
|timestamp  |string | 时间戳                      |
|sign |string |密钥                         |

###### sign生成规则
```java
            Map<String, String> map = new TreeMap<>();
            map.put("workorderCode", workorderCode);
            map.put("payTime", payTime);
            map.put("timestamp", timestamp);
            // ...
            String paramStr = SignUtil.joinParam(map);
            String toSign = SignUtil.generateSignature(paramStr, timestamp);
```

<br>

**6\. 发送二维码接口**
###### 接口功能
> 发送二维码到大屏

###### URL
> [http://192.168.0.108:8080/merchantImg/sendPayQrCode]

###### HTTP请求方式
> POST

###### 请求体

|  参数名 |类型 |说明   |
| :------------: | :------------: | :------------: |
|merchantCode|string |门店编码                   |
|name |string |金额       |
|base64Photo|string |base64图片                 |

<br>

**7\. 获取支付状态接口**
###### 接口功能
> 获取某订单是否支付

###### URL
> [http://192.168.0.108:8080/payCallback/payStatus]

###### HTTP请求方式
> GET

###### 请求参数

|  参数名 |类型 |说明   |
| :------------: | :------------: | :------------: |
|orderNo|string |订单编号                   |

###### 返回结果
|  参数名 |说明 |
| :------------: | :------------: |
|true|已支付 |
|false|未支付 |