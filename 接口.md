1\. 工单结算接口

---

**1\. 查询工单信息**
###### 接口功能
> 初始化界面查询工单信息

###### URL
> [http://192.168.0.106:8080/LaborBlance/findOrderInfo]

###### HTTP请求方式
> GET

###### 请求参数
> |参数|必选|类型|说明|

|:-----  |:-------|:-----|:-----                               |

|merchantCode    |ture    |string|门店编码                          |
|orderCode    |true    |string   |工单编号  |

###### 返回字段
> |返回字段|字段类型|说明                              |

|:-----   |:------|:-----------------------------   |

|laborOrder   |object    |工单对象   |
|goodsList  |array | 商品集合                      |
|vipNumber |int |会员卡数量                         |
|cardBalance |int |卡余额                         |
|vipCards |array |会员卡集合                         |
|onceGoodsList |array |次卡商品集合                         |
|coupons |array |优惠券集合                         |
|vipNumber |int |会员卡数量                         |
|maxDisCount |string |最大折扣金额                         |
|shouldPay |string |应付金额                         |
|orderPrice |string |订单金额                         |
|deduction |string |最大抵扣金额                         |
|redeemCode |string |兑换码                         |
|benefit |string |人工优惠金额                         |

###### 接口示例
> 地址：[192.168.0.106:8080/LaborBlance/findOrderInfo?merchantCode=31000001&orderCode=310000012020012874](http://192.168.0.106:8080/LaborBlance/findOrderInfo?merchantCode=31000001&orderCode=310000012020012874)
``` javascript
{
    "code": "success",
    "message": "10000",
    "data": {
        "laborOrder": {
            "id": 130,
            "merchantCode": "31000001",
            "workorderType": 2,
            "workorderCode": "310000012020012874",
            "workorderTime": "2019-12-12 13:31:46",
            "status": 2,
            "plateNumber": "京aaaaa",
            "customerCode": "111",
            "buyoncreditMoney": null,
            "mileage": null,
            "isBuyoncredit": 2,
            "estimateSubmit": null,
            "remarks": "",
            "createTime": "2019-12-12",
            "updateTime": "2020-01-09 19:43:15",
            "createId": "007",
            "updateId": "007",
            "vehicleIdNum": null,
            "carCode": null,
            "customerName": "陈孝林编辑",
            "customerPhone": "15528034555",
            "modelName": null,
            "brandName": null,
            "seriesName": null,
            "nextKeepFitKm": null,
            "nextKeepFitTime": null,
            "repairName": null,
            "repairPhone": null,
            "applyDate": null,
            "engineNum": "007",
            "annualInspectDate": null,
            "compulsoryInsureDeadline": null,
            "carColor": "绿色",
            "totalMoney": 1040,
            "beforeRemarks": null,
            "isMyCard": 1
        },
        "goodsList": [
            {
                "id": 221,
                "goodsName": "车顶玻璃贴膜",
                "brandName": null,
                "price": 1000,
                "alreadyReceiveNum": null,
                "stockNum": null,
                "remarks": null,
                "goodsCode": "31000001S0102000006",
                "serviceFrequency": null,
                "serviceTime": null,
                "isGift": 0,
                "subtotalMoney": 1000,
                "type": 2,
                "workorderCode": "310000012020012874",
                "merchantCode": "31000001",
                "goodsCount": 1,
                "goodsType": 2,
                "goodsCome": 3,
                "goodsVipId": null,
                "laborGoodsEmployeeList": [
                    {
                        "id": 252,
                        "workorderId": "221",
                        "workorderCode": "310000012020012874",
                        "customerType": 1,
                        "workerId": "null",
                        "employeeName": "倪庆君",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 253,
                        "workorderId": "221",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "程良",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 254,
                        "workorderId": "221",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "吕琳",
                        "merchantCode": "31000001"
                    }
                ],
                "memberCardGoodsPrice": null,
                "memberCardGoodsDiscount": null,
                "surplusCount": null
            },
            {
                "id": 222,
                "goodsName": "手工清洗外观(5座)",
                "brandName": null,
                "price": 20,
                "alreadyReceiveNum": null,
                "stockNum": null,
                "remarks": null,
                "goodsCode": "31000001S0101000028",
                "serviceFrequency": null,
                "serviceTime": null,
                "isGift": 0,
                "subtotalMoney": 40,
                "type": 2,
                "workorderCode": "310000012020012874",
                "merchantCode": "31000001",
                "goodsCount": 2,
                "goodsType": 2,
                "goodsCome": 2,
                "goodsVipId": "107",
                "laborGoodsEmployeeList": [
                    {
                        "id": 255,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 1,
                        "workerId": "null",
                        "employeeName": "倪庆君",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 256,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "程良",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 257,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "吕琳",
                        "merchantCode": "31000001"
                    },
                    {
                        "id": 258,
                        "workorderId": "222",
                        "workorderCode": "310000012020012874",
                        "customerType": 2,
                        "workerId": "null",
                        "employeeName": "程良",
                        "merchantCode": "31000001"
                    }
                ],
                "memberCardGoodsPrice": null,
                "memberCardGoodsDiscount": null,
                "surplusCount": null
            },
            {
                "id": 234,
                "goodsName": "商家储值卡-300元",
                "brandName": null,
                "price": 50,
                "alreadyReceiveNum": null,
                "stockNum": null,
                "remarks": "修改备注",
                "goodsCode": "31000001S0101000028",
                "serviceFrequency": null,
                "serviceTime": null,
                "isGift": 0,
                "subtotalMoney": null,
                "type": 2,
                "workorderCode": "310000012020012874",
                "merchantCode": "31000001",
                "goodsCount": 1,
                "goodsType": null,
                "goodsCome": 1,
                "goodsVipId": "109",
                "laborGoodsEmployeeList": [],
                "memberCardGoodsPrice": null,
                "memberCardGoodsDiscount": null,
                "surplusCount": null
            }
        ],
        "vipNumber": 3,
        "cardBalance": 18396,
        "vipCards": [
            {
                "memberCardName": "商家次卡-10次洗车",
                "memberCardType": 3,
                "customerMemberCardId": 107,
                "specialItems": [],
                "availableItems": null,
                "items": [
                    {
                        "id": null,
                        "goodsName": null,
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": null,
                        "surplusCount": 4
                    }
                ],
                "freeItems": [
                    {
                        "id": null,
                        "goodsName": null,
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": null,
                        "surplusCount": 1
                    }
                ],
                "cardBalance": 0,
                "coupons": [
                    {
                        "couponId": 12345,
                        "couponName": "没有优惠券信息，无接口支持",
                        "couponType": null,
                        "count": 2,
                        "surplusCount": 2
                    }
                ]
            },
            {
                "memberCardName": "商家储值卡-1000元",
                "memberCardType": 1,
                "customerMemberCardId": 109,
                "specialItems": [
                    {
                        "id": null,
                        "goodsName": "普通洗车(SUV及7座)",
                        "brandName": null,
                        "price": 30,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000028",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": 9.9,
                        "memberCardGoodsDiscount": 10,
                        "surplusCount": null
                    }
                ],
                "availableItems": null,
                "items": null,
                "freeItems": [
                    {
                        "id": null,
                        "goodsName": null,
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": null,
                        "surplusCount": 3
                    }
                ],
                "cardBalance": 3000,
                "coupons": []
            },
            {
                "memberCardName": "商家储值卡-501元",
                "memberCardType": 2,
                "customerMemberCardId": 110,
                "specialItems": [],
                "availableItems": [
                    {
                        "id": null,
                        "goodsName": "普通打蜡(5座)",
                        "brandName": null,
                        "price": 80,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000029",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": 0,
                        "surplusCount": null
                    },
                    {
                        "id": null,
                        "goodsName": "手工清洗外观(5座)",
                        "brandName": null,
                        "price": 20,
                        "alreadyReceiveNum": null,
                        "stockNum": null,
                        "remarks": null,
                        "goodsCode": "31000001S0101000027",
                        "serviceFrequency": null,
                        "serviceTime": null,
                        "isGift": null,
                        "subtotalMoney": null,
                        "type": null,
                        "workorderCode": null,
                        "merchantCode": null,
                        "goodsCount": null,
                        "goodsType": 2,
                        "goodsCome": null,
                        "goodsVipId": null,
                        "laborGoodsEmployeeList": null,
                        "memberCardGoodsPrice": null,
                        "memberCardGoodsDiscount": 0,
                        "surplusCount": null
                    }
                ],
                "items": null,
                "freeItems": [],
                "cardBalance": 1599,
                "coupons": [
                    {
                        "couponId": 12345,
                        "couponName": "没有优惠券信息，无接口支持",
                        "couponType": null,
                        "count": 1,
                        "surplusCount": 1
                    }
                ]
            }
        ],
        "onceGoodsList": [],
        "coupons": [
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 2,
                "surplusCount": 2
            },
            {
                "couponId": 12345,
                "couponName": "没有优惠券信息，无接口支持",
                "couponType": null,
                "count": 1,
                "surplusCount": 1
            }
        ],
        "maxDisCount": 60.3,
        "shouldPay": 1029.7,
        "orderPrice": 1090,
        "deduction": null,
        "redeemCode": null,
        "redeemVerification": null,
        "benefit": null,
        "qrcodeTo": null,
        "giftObj": 0,
        "giftService": 0,
        "notifyCardOwner": null
    },
    "successful": false,
    "total": null,
    "pages": null,
    "systemTime": "2020-01-11 10:13:40"
}
